<!doctype html>
<html class="no-js" lang="en">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" />

    <!-- Generated with Sphinx 7.0.1 and Furo 2023.05.20 -->
        <title>Industrial_Vision - Industrial_Vision 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?digest=e6660623a769aa55fea372102b9bf3151b292993" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?digest=30d1aed668e5c3a91c3e3bf6a60b675221979f0e" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #7C4DFF;
  --color-brand-content: #7C4DFF;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #F7DC6F;
  --color-brand-content: #F7DC6F;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #F7DC6F;
  --color-brand-content: #F7DC6F;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">Industrial_Vision 1.0 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  
  <span class="sidebar-brand-text">Industrial_Vision 1.0 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Usage.html">Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about_the_project.html">About the project</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../modules.html">Modules</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Modules</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../Industrial_Vision.html">Industrial_Vision module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../IA_training.html">IA_training module</a></li>
<li class="toctree-l2"><a class="reference internal" href="../Create_DDB.html">Create_DDB module</a></li>
</ul>
</li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <h1>Source code for Industrial_Vision</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="kn">from</span> <span class="nn">PyQt5.QtGui</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtWidgets</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5.QtCore</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">PyQt5</span> <span class="kn">import</span> <span class="n">uic</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">from</span> <span class="nn">sklearn.neural_network</span> <span class="kn">import</span> <span class="n">MLPClassifier</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">confusion_matrix</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics</span> <span class="kn">import</span> <span class="n">ConfusionMatrixDisplay</span>

<span class="kn">from</span> <span class="nn">pyueye</span> <span class="kn">import</span> <span class="n">ueye</span>
<span class="kn">import</span> <span class="nn">cv2</span>
<span class="kn">from</span> <span class="nn">PIL</span> <span class="kn">import</span> <span class="n">Image</span>
<span class="kn">import</span> <span class="nn">webcolors</span>

<span class="kn">from</span> <span class="nn">serial</span> <span class="kn">import</span> <span class="n">Serial</span>
<span class="kn">import</span> <span class="nn">serial.tools.list_ports</span>


<div class="viewcode-block" id="IAFormes"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAFormes">[docs]</a><span class="k">class</span> <span class="nc">IAFormes</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    IAFormes class implements a shape recognition system using a multi-layer perceptron (MLP) classifier.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        Test (bool): If True, initializes the classifier with a test dataset. Default is False.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        __test (bool): Flag indicating whether the test mode is enabled.</span>
<span class="sd">        __mlp2 (MLPClassifier): Multi-layer perceptron classifier object.</span>
<span class="sd">        x_test (ndarray): Test input data.</span>
<span class="sd">        y_test (ndarray): Test target labels.</span>
<span class="sd">        xt (ndarray): Training input data.</span>
<span class="sd">        yt (ndarray): Training target labels.</span>

<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IAFormes.__init__"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAFormes.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Test</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the IAFormes object.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            Test (bool): If True, initializes the classifier with a test dataset. Default is False.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__test</span> <span class="o">=</span> <span class="n">Test</span>

        <span class="k">if</span> <span class="n">Test</span><span class="p">:</span>
            <span class="c1"># Reading of the test DataBase</span>
            <span class="n">dfAt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;BaseATEST.csv&#39;</span><span class="p">)</span>
            <span class="n">dfCt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;BaseCercleTEST.csv&#39;</span><span class="p">)</span>
            <span class="n">dfTt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;BaseTriTEST.csv&#39;</span><span class="p">)</span>
            <span class="n">dfPt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;BasePentTEST.csv&#39;</span><span class="p">)</span>
            <span class="n">dfEt</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;BaseEtTEST.csv&#39;</span><span class="p">)</span>

            <span class="n">xt1</span> <span class="o">=</span> <span class="p">[</span><span class="n">dfAt</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">values</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">)]</span>
            <span class="n">xt2</span> <span class="o">=</span> <span class="p">[</span><span class="n">dfCt</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">values</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">)]</span>
            <span class="n">xt3</span> <span class="o">=</span> <span class="p">[</span><span class="n">dfTt</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">values</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">)]</span>
            <span class="n">xt4</span> <span class="o">=</span> <span class="p">[</span><span class="n">dfPt</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">values</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">)]</span>
            <span class="n">xt5</span> <span class="o">=</span> <span class="p">[</span><span class="n">dfEt</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)]</span><span class="o">.</span><span class="n">values</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">500</span><span class="p">)]</span>

            <span class="n">xt</span> <span class="o">=</span> <span class="n">xt1</span><span class="o">+</span><span class="n">xt2</span><span class="o">+</span><span class="n">xt3</span><span class="o">+</span><span class="n">xt4</span><span class="o">+</span><span class="n">xt5</span><span class="o">+</span><span class="p">[[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="mi">3264</span><span class="p">]</span><span class="o">*</span><span class="mi">500</span>
            <span class="n">xt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xt</span><span class="p">)</span>

            <span class="n">yt</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="mi">500</span><span class="p">)</span><span class="o">+</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="mi">500</span>
            <span class="n">yt</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">yt</span><span class="p">)</span>
            <span class="n">x_test</span> <span class="o">=</span> <span class="n">xt</span>
            <span class="n">y_test</span> <span class="o">=</span> <span class="n">yt</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">xt</span> <span class="o">=</span> <span class="n">xt</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">yt</span> <span class="o">=</span> <span class="n">yt</span>

        <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3264</span><span class="p">))</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">yt</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">+</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">y</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__mlp2</span> <span class="o">=</span> <span class="n">MLPClassifier</span><span class="p">(</span><span class="n">hidden_layer_sizes</span><span class="o">=</span><span class="p">([</span><span class="mi">256</span><span class="p">,</span> <span class="mi">128</span><span class="p">]),</span> <span class="n">activation</span><span class="o">=</span><span class="s1">&#39;logistic&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">1e-4</span><span class="p">,</span> <span class="n">solver</span><span class="o">=</span><span class="s1">&#39;sgd&#39;</span><span class="p">,</span>
                                    <span class="n">tol</span><span class="o">=</span><span class="mf">5e-3</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">max_iter</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">warm_start</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">learning_rate_init</span><span class="o">=</span><span class="mf">0.005</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__mlp2</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

        <span class="n">A</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;Model_parameters/Poids-1.npy&quot;</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">A</span> <span class="o">=</span> <span class="p">[</span><span class="n">A</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">A</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">A</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>
        <span class="n">B</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s2">&quot;Model_parameters/Biais-1.npy&quot;</span><span class="p">,</span> <span class="n">allow_pickle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
        <span class="n">B</span> <span class="o">=</span> <span class="p">[</span><span class="n">B</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">B</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">B</span><span class="p">[</span><span class="mi">2</span><span class="p">]]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">__mlp2</span><span class="o">.</span><span class="n">coefs_</span> <span class="o">=</span> <span class="n">A</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__mlp2</span><span class="o">.</span><span class="n">intercepts_</span> <span class="o">=</span> <span class="n">B</span>

        <span class="k">if</span> <span class="n">Test</span><span class="p">:</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">            Prints the accuracy score of the MLP classifier on the test dataset.</span>
<span class="sd">            &quot;&quot;&quot;</span>

            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Test set score: </span><span class="si">%f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mlp2</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">x_test</span><span class="p">,</span> <span class="n">y_test</span><span class="p">))</span></div>

<div class="viewcode-block" id="IAFormes.montreimage"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAFormes.montreimage">[docs]</a>    <span class="k">def</span> <span class="nf">montreimage</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">,</span> <span class="nb">set</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the image at index k from the given set.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            k (int): Index of the image to display.</span>
<span class="sd">            set (ndarray): Set of images.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">X</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="nb">set</span><span class="p">[</span><span class="n">k</span><span class="p">],</span> <span class="p">(</span><span class="mi">51</span><span class="p">,</span> <span class="mi">64</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greys_r&#39;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="IAFormes.matconf"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAFormes.matconf">[docs]</a>    <span class="k">def</span> <span class="nf">matconf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the confusion matrix based on the predicted labels and true labels of the test dataset.</span>

<span class="sd">        Note:</span>
<span class="sd">            This method should only be called when the test mode is enabled.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__test</span><span class="p">:</span>
            <span class="n">y_pred</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mlp2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">xt</span><span class="p">)</span>
            <span class="n">cm</span> <span class="o">=</span> <span class="n">confusion_matrix</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">yt</span><span class="p">,</span> <span class="n">y_pred</span><span class="p">)</span>
            <span class="n">cm_display</span> <span class="o">=</span> <span class="n">ConfusionMatrixDisplay</span><span class="p">(</span><span class="n">cm</span><span class="p">)</span><span class="o">.</span><span class="n">plot</span><span class="p">()</span>
            <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;No test dataset&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="IAFormes.Proba"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAFormes.Proba">[docs]</a>    <span class="k">def</span> <span class="nf">Proba</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xtest</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Predicts the probabilities of each class label for the given input data.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            xtest (ndarray): Input data to predict probabilities for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ndarray: Array of predicted probabilities for each class label.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mlp2</span><span class="o">.</span><span class="n">predict_proba</span><span class="p">(</span><span class="n">xtest</span><span class="p">)</span></div>

<div class="viewcode-block" id="IAFormes.Proba2"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAFormes.Proba2">[docs]</a>    <span class="k">def</span> <span class="nf">Proba2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">xtest</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Predicts the class labels for the given input data.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            xtest (ndarray): Input data to predict labels for.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ndarray: Array of predicted labels.</span>

<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__mlp2</span><span class="o">.</span><span class="n">predict</span><span class="p">(</span><span class="n">xtest</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="Couleurim"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Couleurim">[docs]</a><span class="k">class</span> <span class="nc">Couleurim</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Couleurim class represents an image color analysis tool.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        Foldername (str): The path to the image file. Default is &#39;images/o1.bmp&#39;.</span>
<span class="sd">        livemode (bool): If True, uses a live frame instead of reading an image file. Default is False.</span>
<span class="sd">        Frame (PIL.Image.Image): The live frame to analyze. Only used if livemode is True.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        r (ndarray): Red channel values of the image.</span>
<span class="sd">        g (ndarray): Green channel values of the image.</span>
<span class="sd">        b (ndarray): Blue channel values of the image.</span>
<span class="sd">        argr (tuple): Indices of the maximum value in the red channel.</span>
<span class="sd">        argg (tuple): Indices of the maximum value in the green channel.</span>
<span class="sd">        argb (tuple): Indices of the maximum value in the blue channel.</span>
<span class="sd">        nc (list): Maximum color values for each channel.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="Couleurim.__init__"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Couleurim.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Foldername</span><span class="o">=</span><span class="s1">&#39;images/o1.bmp&#39;</span><span class="p">,</span> <span class="n">livemode</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">Frame</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the Couleurim object.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            Foldername (str): The path to the image file. Default is &#39;images/o1.bmp&#39;.</span>
<span class="sd">            livemode (bool): If True, uses a live frame instead of reading an image file. Default is False.</span>
<span class="sd">            Frame (PIL.Image.Image): The live frame to analyze. Only used if livemode is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">livemode</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">Foldername</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">Frame</span>

        <span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">r</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">g</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">g</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>

        <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">shape</span>

        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">argr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">argmax</span><span class="p">(),</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>

        <span class="n">g</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">argg</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="o">.</span><span class="n">argmax</span><span class="p">(),</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>

        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">argb</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unravel_index</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">argmax</span><span class="p">(),</span> <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">))</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nc</span> <span class="o">=</span> <span class="p">[</span><span class="n">r</span><span class="p">,</span> <span class="n">g</span><span class="p">,</span> <span class="n">b</span><span class="p">]</span>

        <span class="n">ma</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nc</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="nb">max</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">nc</span><span class="p">))</span>

        <span class="k">if</span> <span class="n">ma</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">argb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">argr</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">argg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">argr</span>

        <span class="k">if</span> <span class="n">ma</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">argb</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">argg</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">argr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">argg</span>

        <span class="k">if</span> <span class="n">ma</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">argr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">argb</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">argg</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">argb</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nc</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">r</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">argr</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">g</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">argg</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">argb</span><span class="p">]]</span></div>

<div class="viewcode-block" id="Couleurim.affichage"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Couleurim.affichage">[docs]</a>    <span class="k">def</span> <span class="nf">affichage</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Displays the image with highlighted color channels.</span>

<span class="sd">        Note:</span>
<span class="sd">            The red channel is shown in the top-left subplot.</span>
<span class="sd">            The green channel is shown in the bottom-left subplot.</span>
<span class="sd">            The blue channel is shown in the top-right subplot.</span>
<span class="sd">            The closest color name to the analyzed color is shown in the bottom-right subplot.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">r</span>
        <span class="n">b</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span>
        <span class="n">g</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">g</span>
        <span class="n">nc</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nc</span>
        <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">f</span> <span class="o">=</span> <span class="mi">5</span>

        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">p</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="n">f</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                    <span class="n">r</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">argr</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
                <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                    <span class="n">g</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">argg</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
                <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
                    <span class="n">b</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">argb</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>

        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="o">-</span><span class="n">f</span><span class="p">,</span> <span class="n">f</span><span class="p">):</span>
                <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">p</span><span class="p">:</span>
                    <span class="n">r</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">argr</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
                <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argg</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argg</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">p</span><span class="p">:</span>
                    <span class="n">g</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">argg</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>
                <span class="k">if</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">and</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">argb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">p</span><span class="p">:</span>
                    <span class="n">b</span><span class="p">[</span><span class="n">k</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">argb</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">255</span>

        <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Reds_r&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Red nuances&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Greens_r&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Green nuances&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="n">cmap</span><span class="o">=</span><span class="s1">&#39;Blues_r&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s2">&quot;Blue nuances&quot;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">imshow</span><span class="p">([[</span><span class="n">nc</span><span class="p">]])</span>
        <span class="n">ax</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">couleur_proche</span><span class="p">(</span><span class="n">nc</span><span class="p">))</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>

<div class="viewcode-block" id="Couleurim.couleur_proche"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Couleurim.couleur_proche">[docs]</a>    <span class="k">def</span> <span class="nf">couleur_proche</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">requested_colour</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Finds the closest color name to the analyzed color.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            requested_colour (list): RGB values of the color to find the closest name for. Default is None,</span>
<span class="sd">                                     which uses the analyzed color stored in nc attribute.</span>

<span class="sd">        Returns:</span>
<span class="sd">            str: The name of the closest color.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="n">requested_colour</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">requested_colour</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">nc</span>

        <span class="n">min_colours</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">webcolors</span><span class="o">.</span><span class="n">CSS3_HEX_TO_NAMES</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">r_c</span><span class="p">,</span> <span class="n">g_c</span><span class="p">,</span> <span class="n">b_c</span> <span class="o">=</span> <span class="n">webcolors</span><span class="o">.</span><span class="n">hex_to_rgb</span><span class="p">(</span><span class="n">key</span><span class="p">)</span>
            <span class="n">rd</span> <span class="o">=</span> <span class="p">(</span><span class="n">r_c</span> <span class="o">-</span> <span class="n">requested_colour</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
            <span class="n">gd</span> <span class="o">=</span> <span class="p">(</span><span class="n">g_c</span> <span class="o">-</span> <span class="n">requested_colour</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
            <span class="n">bd</span> <span class="o">=</span> <span class="p">(</span><span class="n">b_c</span> <span class="o">-</span> <span class="n">requested_colour</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">**</span> <span class="mi">2</span>
            <span class="n">min_colours</span><span class="p">[(</span><span class="n">rd</span> <span class="o">+</span> <span class="n">gd</span> <span class="o">+</span> <span class="n">bd</span><span class="p">)]</span> <span class="o">=</span> <span class="n">name</span>

        <span class="k">return</span> <span class="n">min_colours</span><span class="p">[</span><span class="nb">min</span><span class="p">(</span><span class="n">min_colours</span><span class="o">.</span><span class="n">keys</span><span class="p">())]</span></div></div>


<div class="viewcode-block" id="IAcouleurs"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAcouleurs">[docs]</a><span class="k">class</span> <span class="nc">IAcouleurs</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    IAcouleurs class represents an image color and shape classification tool.</span>

<span class="sd">    Parameters:</span>
<span class="sd">        livemode (bool): If True, enables live mode for analyzing frames. Default is True.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        IA (IAFormes): Instance of the IAFormes class for shape classification.</span>
<span class="sd">        livemode (bool): Flag indicating whether the live mode is enabled or not.</span>
<span class="sd">    &quot;&quot;&quot;</span>

<div class="viewcode-block" id="IAcouleurs.__init__"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAcouleurs.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">livemode</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the IAcouleurs object.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            livemode (bool): If True, enables live mode for analyzing frames. Default is True.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">IA</span> <span class="o">=</span> <span class="n">IAFormes</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__livemode</span> <span class="o">=</span> <span class="n">livemode</span></div>

<div class="viewcode-block" id="IAcouleurs.classification"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAcouleurs.classification">[docs]</a>    <span class="k">def</span> <span class="nf">classification</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">Fichier</span><span class="o">=</span><span class="s1">&#39;images/e1.bmp&#39;</span><span class="p">,</span> <span class="n">Frame</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs color and shape classification on an image or frame.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            s (int): Threshold value for image binarization. Default is 50.</span>
<span class="sd">            Fichier (str): Path to the image file. Default is &#39;images/e1.bmp&#39;.</span>
<span class="sd">            Frame (ndarray): The live frame to classify. Only used if livemode is True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            list: A list containing the classification results. The list contains the following elements:</span>
<span class="sd">                - The shape classification result as a tuple (shape_name, probability).</span>
<span class="sd">                - The closest color name to the analyzed color.</span>
<span class="sd">                - The RGB values of the analyzed color.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__livemode</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">Couleurim</span><span class="p">(</span><span class="n">Foldername</span><span class="o">=</span><span class="n">Fichier</span><span class="p">)</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">Fichier</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Frame</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">Frame</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">Couleurim</span><span class="p">(</span><span class="n">livemode</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">Frame</span><span class="o">=</span><span class="n">Frame</span><span class="p">)</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">Frame</span>

        <span class="n">img</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>

        <span class="n">Xt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aquisi</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>

        <span class="n">P</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IA</span><span class="o">.</span><span class="n">Proba</span><span class="p">(</span><span class="n">Xt</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">L</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;Empty&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;Square&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="s2">&quot;Cercle&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">],</span>
                  <span class="s2">&quot;Triangle&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">3</span><span class="p">],</span> <span class="s2">&quot;Pentagone&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">4</span><span class="p">],</span> <span class="s2">&quot;Star&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">%0.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">P</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">5</span><span class="p">]}</span>
        
        <span class="n">pred</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IA</span><span class="o">.</span><span class="n">Proba2</span><span class="p">(</span><span class="n">Xt</span><span class="p">)</span>

        <span class="k">return</span> <span class="p">[</span><span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="o">.</span><span class="n">items</span><span class="p">())[</span><span class="n">pred</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">couleur_proche</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">nc</span><span class="p">]</span></div>

<div class="viewcode-block" id="IAcouleurs.classi2"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAcouleurs.classi2">[docs]</a>    <span class="k">def</span> <span class="nf">classi2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">Fichier</span><span class="o">=</span><span class="s1">&#39;images/e1.bmp&#39;</span><span class="p">,</span> <span class="n">Frame</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Performs shape classification on an image or frame.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            s (int): Threshold value for image binarization. Default is 50.</span>
<span class="sd">            Fichier (str): Path to the image file. Default is &#39;images/e1.bmp&#39;.</span>
<span class="sd">            Frame (ndarray): The live frame to classify. Only used if livemode is True.</span>

<span class="sd">        Returns:</span>
<span class="sd">            int: The index of the predicted shape class.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">__livemode</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">Couleurim</span><span class="p">(</span><span class="n">Foldername</span><span class="o">=</span><span class="n">Fichier</span><span class="p">)</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">Fichier</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">Frame</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">Frame</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;RGB&quot;</span><span class="p">)</span>
            <span class="n">img</span> <span class="o">=</span> <span class="n">Frame</span>

        <span class="n">img</span> <span class="o">=</span> <span class="n">img</span><span class="o">.</span><span class="n">convert</span><span class="p">(</span><span class="s1">&#39;L&#39;</span><span class="p">)</span>
        <span class="n">img</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
        <span class="n">Xt</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">aquisi</span><span class="p">(</span><span class="n">img</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
        <span class="n">pred</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">IA</span><span class="o">.</span><span class="n">Proba2</span><span class="p">(</span><span class="n">Xt</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">pred</span></div>

<div class="viewcode-block" id="IAcouleurs.resize"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAcouleurs.resize">[docs]</a>    <span class="k">def</span> <span class="nf">resize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">image</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Resizes an image to the specified dimensions.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            image (ndarray): The image to resize.</span>
<span class="sd">            l (int): The width of the resized image.</span>
<span class="sd">            m (int): The height of the resized image.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ndarray: The resized image.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">image</span> <span class="o">=</span> <span class="n">Image</span><span class="o">.</span><span class="n">fromarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">((</span><span class="n">image</span><span class="p">)))</span>
        <span class="n">image</span><span class="o">.</span><span class="n">thumbnail</span><span class="p">((</span><span class="n">l</span><span class="p">,</span> <span class="n">m</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">image</span><span class="p">)</span></div>

<div class="viewcode-block" id="IAcouleurs.seuil"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAcouleurs.seuil">[docs]</a>    <span class="k">def</span> <span class="nf">seuil</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">imNB</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">120</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Applies a threshold to an image.</span>

<span class="sd">        Pixels with intensity values below the threshold are set to 0, and pixels with intensity values</span>
<span class="sd">        above or equal to the threshold are kept as is.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            imNB (ndarray): The grayscale image to apply the threshold to.</span>
<span class="sd">            s (int): Threshold value. Default is 120.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ndarray: The thresholded image.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">imNB</span> <span class="o">&lt;</span> <span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">imNB</span><span class="p">)</span></div>

<div class="viewcode-block" id="IAcouleurs.aquisi"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAcouleurs.aquisi">[docs]</a>    <span class="k">def</span> <span class="nf">aquisi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">im</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Preprocesses an image for shape classification.</span>

<span class="sd">        This method applies thresholding and resizing to the input image.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            im (ndarray): The grayscale image to preprocess.</span>
<span class="sd">            s (int): Threshold value for image binarization.</span>

<span class="sd">        Returns:</span>
<span class="sd">            ndarray: Preprocessed image data as a 1D array.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">p</span><span class="p">)</span> <span class="o">=</span> <span class="n">im</span><span class="o">.</span><span class="n">shape</span>
        <span class="n">im</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">seuil</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">s</span><span class="p">)</span>
        <span class="n">im</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">resize</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="mi">64</span><span class="p">,</span> <span class="mi">64</span><span class="p">)</span>
        <span class="n">T</span> <span class="o">=</span> <span class="p">[</span><span class="n">im</span><span class="p">]</span>
        <span class="n">T</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">T</span><span class="p">)</span>
        <span class="n">T</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="n">T</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
        
        <span class="k">return</span> <span class="n">T</span></div>

<div class="viewcode-block" id="IAcouleurs.afficheinfo"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.IAcouleurs.afficheinfo">[docs]</a>    <span class="k">def</span> <span class="nf">afficheinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Returns the classification results and the closest color name.</span>

<span class="sd">        Returns:</span>
<span class="sd">            tuple: A tuple containing the classification results dictionary and the closest color name.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c</span><span class="o">.</span><span class="n">couleur_proche</span><span class="p">()</span></div></div>


<div class="viewcode-block" id="Window"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window">[docs]</a><span class="k">class</span> <span class="nc">Window</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Window class represents the main interface for displaying a video feed and processing images.</span>

<span class="sd">    Signals:</span>
<span class="sd">        ImageUpdate (QImage): Signal emitted when a new frame is available to update the displayed image.</span>
<span class="sd">        PrediUpdate (list): Signal emitted when a new prediction result is available.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        Worker1 (Worker1): Worker1 instance for capturing frames from the camera and applying filters.</span>
<span class="sd">        Worker2 (Worker2): Worker2 instance for image processing and prediction.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ImageUpdate</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="n">QImage</span><span class="p">)</span>
    <span class="n">PrediUpdate</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

<div class="viewcode-block" id="Window.__init__"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initializes the Window object and sets up the user interface.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            parent (QWidget): The parent widget. Default is None.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="n">uic</span><span class="o">.</span><span class="n">loadUi</span><span class="p">(</span><span class="s2">&quot;UI/Graph_Int.ui&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">marche</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">marcheCl</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arret</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fin</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalSlider</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">changet</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">horizontalSlider_2</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">changettr1</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cancelButton</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">CancelFeed</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">cB</span><span class="o">.</span><span class="n">currentIndexChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">traitim</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span> <span class="o">=</span> <span class="n">Worker1</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span><span class="o">.</span><span class="n">ImageUpdate</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">ImageUpdateSlot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span><span class="o">.</span><span class="n">frameUpdate</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">pr</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span> <span class="o">=</span> <span class="n">Worker2</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">PrediUpdate</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">PrediUpdateSlot</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolcouleur1</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolcouleur2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolcouleur3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolforme1</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolforme2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolforme3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolchoix1</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolchoix2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">boolchoix3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">cp1</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">cp2</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">cp3</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">detection</span><span class="p">()</span></div>

<div class="viewcode-block" id="Window.CancelFeed"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.CancelFeed">[docs]</a>    <span class="k">def</span> <span class="nf">CancelFeed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Cancels the video feed and stops the workers.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span></div>

<div class="viewcode-block" id="Window.changet"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.changet">[docs]</a>    <span class="k">def</span> <span class="nf">changet</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Slot for handling changes in the time interval.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span><span class="o">.</span><span class="n">timacsses</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalSlider</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">time_label</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> s&quot;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">horizontalSlider</span><span class="o">.</span><span class="n">value</span><span class="p">())</span></div>

<div class="viewcode-block" id="Window.changeim"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.changeim">[docs]</a>    <span class="k">def</span> <span class="nf">changeim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Slot for handling changes in the image processing mode.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            c: The new value of the image processing mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span><span class="o">.</span><span class="n">trait</span><span class="p">(</span><span class="n">c</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.changettr1"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.changettr1">[docs]</a>    <span class="k">def</span> <span class="nf">changettr1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Slot for handling changes in the threshold value.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span><span class="o">.</span><span class="n">traitth1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalSlider_2</span><span class="o">.</span><span class="n">value</span><span class="p">())</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">traitth1</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">horizontalSlider_2</span><span class="o">.</span><span class="n">value</span><span class="p">())</span></div>

<div class="viewcode-block" id="Window.ImageUpdateSlot"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.ImageUpdateSlot">[docs]</a>    <span class="k">def</span> <span class="nf">ImageUpdateSlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Image</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Slot for updating the displayed image.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            Image (QImage): The new image to be displayed.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">setPixmap</span><span class="p">(</span><span class="n">QPixmap</span><span class="o">.</span><span class="n">fromImage</span><span class="p">(</span><span class="n">Image</span><span class="p">))</span></div>

<div class="viewcode-block" id="Window.PrediUpdateSlot"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.PrediUpdateSlot">[docs]</a>    <span class="k">def</span> <span class="nf">PrediUpdateSlot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pred</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Slot for updating the prediction result.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            pred (list): The prediction result.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">nbpiece1</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">cp1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nbpiece2</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cp2</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nbpiece3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">cp3</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">detection</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">label_3</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">pred</span><span class="p">[</span><span class="mi">0</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">nclabel</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s2">&quot;Couleur : &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pred</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clabel</span><span class="o">.</span><span class="n">setStyleSheet</span><span class="p">(</span>
            <span class="s2">&quot;background-color:rgb(&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pred</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pred</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">1</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;,&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">pred</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">2</span><span class="p">])</span> <span class="o">+</span> <span class="s2">&quot;)&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.traitim"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.traitim">[docs]</a>    <span class="k">def</span> <span class="nf">traitim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Slot for handling changes in the image processing mode.</span>

<span class="sd">        Parameters:</span>
<span class="sd">            val: The new value of the image processing mode.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker1</span><span class="o">.</span><span class="n">trait</span><span class="p">(</span><span class="n">val</span><span class="p">)</span></div>

<div class="viewcode-block" id="Window.fin"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.fin">[docs]</a>    <span class="k">def</span> <span class="nf">fin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Slot for stopping the workers.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="mi">1</span></div>

<div class="viewcode-block" id="Window.marcheCl"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Window.marcheCl">[docs]</a>    <span class="k">def</span> <span class="nf">marcheCl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Slot for starting the workers and configuring the processing parameters.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">forme1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rond1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">carre1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">triangle1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pentagone1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">etoile1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">couleur1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rouge1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vert1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bleu1</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">forme2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rond2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">carre2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">triangle2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pentagone2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">etoile2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">couleur2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rouge2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vert2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bleu2</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span> <span class="o">=</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tabchoice3</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">forme3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rond3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">carre3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">triangle3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">pentagone3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">etoile3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">couleur3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rouge3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">vert3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">bleu3</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">Worker2</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">m</span> <span class="o">=</span> <span class="mi">1</span></div></div>


<div class="viewcode-block" id="Worker1"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker1">[docs]</a><span class="k">class</span> <span class="nc">Worker1</span><span class="p">(</span><span class="n">QThread</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A worker thread class for image processing.</span>

<span class="sd">    Signals:</span>
<span class="sd">        - ImageUpdate: A PyQt signal emitted when a processed image is ready to be displayed.</span>
<span class="sd">        - frameUpdate: A PyQt signal emitted when a frame is ready to be processed.</span>

<span class="sd">    Attributes:</span>
<span class="sd">        - timact (int): The time interval between processed frames in seconds.</span>
<span class="sd">        - ThreadActive (bool): Indicates whether the worker thread is active or not.</span>
<span class="sd">        - traitement (int): The type of image processing to be performed.</span>
<span class="sd">        - th1 (int): The first threshold value for image processing.</span>
<span class="sd">        - th2 (int): The second threshold value for image processing.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">ImageUpdate</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="n">QImage</span><span class="p">)</span>
    <span class="n">frameUpdate</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">)</span>

<div class="viewcode-block" id="Worker1.run"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker1.run">[docs]</a>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Starts the worker thread and performs image processing.</span>

<span class="sd">        This method runs in a loop, continuously capturing frames from the camera, processing them according to the</span>
<span class="sd">        specified image processing type, and emitting signals to update the UI with the processed frames.</span>

<span class="sd">        Returns:</span>
<span class="sd">            None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timact</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ThreadActive</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">traitement</span> <span class="o">=</span> <span class="mi">2</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">th1</span> <span class="o">=</span> <span class="mi">120</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">th2</span> <span class="o">=</span> <span class="mi">120</span>

        <span class="c1"># Variables</span>
        <span class="c1"># 0: first available camera;  1-254: The camera with the specified camera ID</span>
        <span class="n">hCam</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">HIDS</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
        <span class="n">sInfo</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">SENSORINFO</span><span class="p">()</span>
        <span class="n">cInfo</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">CAMINFO</span><span class="p">()</span>
        <span class="n">pcImageMemory</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">c_mem_p</span><span class="p">()</span>
        <span class="n">MemID</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">int</span><span class="p">()</span>
        <span class="n">rectAOI</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_RECT</span><span class="p">()</span>
        <span class="n">pitch</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">INT</span><span class="p">()</span>
        <span class="c1"># 24: bits per pixel for color mode; take 8 bits per pixel for monochrome</span>
        <span class="n">nBitsPerPixel</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">INT</span><span class="p">(</span><span class="mi">24</span><span class="p">)</span>
        <span class="c1"># 3: channels for color mode(RGB); take 1 channel for monochrome</span>
        <span class="n">channels</span> <span class="o">=</span> <span class="mi">3</span>
        <span class="n">m_nColorMode</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">INT</span><span class="p">()</span>		<span class="c1"># Y8/RGB16/RGB24/REG32</span>
        <span class="n">bytes_per_pixel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nBitsPerPixel</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span>
        <span class="c1"># ---------------------------------------------------------------------------------------------------------------------------------------</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;START&quot;</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">()</span>

        <span class="c1"># Starts the driver and establishes the connection to the camera</span>
        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_InitCamera</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_InitCamera ERROR&quot;</span><span class="p">)</span>

        <span class="c1"># Reads out the data hard-coded in the non-volatile camera memory and writes it to the data structure that cInfo points to</span>
        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_GetCameraInfo</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">cInfo</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_GetCameraInfo ERROR&quot;</span><span class="p">)</span>

        <span class="c1"># You can query additional information about the sensor type used in the camera</span>
        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_GetSensorInfo</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">sInfo</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_GetSensorInfo ERROR&quot;</span><span class="p">)</span>

        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_ResetToDefault</span><span class="p">(</span><span class="n">hCam</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_ResetToDefault ERROR&quot;</span><span class="p">)</span>

        <span class="c1"># Set display mode to DIB</span>
        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_SetDisplayMode</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SET_DM_DIB</span><span class="p">)</span>

        <span class="c1"># Set the right color mode</span>
        <span class="k">if</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">sInfo</span><span class="o">.</span><span class="n">nColorMode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="s1">&#39;big&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_COLORMODE_BAYER</span><span class="p">:</span>
            <span class="c1"># setup the color depth to the current windows setting</span>
            <span class="n">ueye</span><span class="o">.</span><span class="n">is_GetColorDepth</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">nBitsPerPixel</span><span class="p">,</span> <span class="n">m_nColorMode</span><span class="p">)</span>
            <span class="n">bytes_per_pixel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nBitsPerPixel</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;IS_COLORMODE_BAYER: &quot;</span><span class="p">,</span> <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">m_nColorMode: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">m_nColorMode</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">nBitsPerPixel: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">nBitsPerPixel</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">bytes_per_pixel: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">bytes_per_pixel</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">sInfo</span><span class="o">.</span><span class="n">nColorMode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="s1">&#39;big&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_COLORMODE_CBYCRY</span><span class="p">:</span>
            <span class="c1"># for color camera models use RGB32 mode</span>
            <span class="n">m_nColorMode</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_CM_BGRA8_PACKED</span>
            <span class="n">nBitsPerPixel</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">INT</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span>
            <span class="n">bytes_per_pixel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nBitsPerPixel</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;IS_COLORMODE_CBYCRY: &quot;</span><span class="p">,</span> <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">m_nColorMode: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">m_nColorMode</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">nBitsPerPixel: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">nBitsPerPixel</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">bytes_per_pixel: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">bytes_per_pixel</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>

        <span class="k">elif</span> <span class="nb">int</span><span class="o">.</span><span class="n">from_bytes</span><span class="p">(</span><span class="n">sInfo</span><span class="o">.</span><span class="n">nColorMode</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">byteorder</span><span class="o">=</span><span class="s1">&#39;big&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_COLORMODE_MONOCHROME</span><span class="p">:</span>
            <span class="c1"># for color camera models use RGB32 mode</span>
            <span class="n">m_nColorMode</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_CM_MONO8</span>
            <span class="n">nBitsPerPixel</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">INT</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
            <span class="n">bytes_per_pixel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nBitsPerPixel</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;IS_COLORMODE_MONOCHROME: &quot;</span><span class="p">,</span> <span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">m_nColorMode: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">m_nColorMode</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">nBitsPerPixel: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">nBitsPerPixel</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\t</span><span class="s2">bytes_per_pixel: </span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">bytes_per_pixel</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">()</span>

        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># for monochrome camera models use Y8 mode</span>
            <span class="n">m_nColorMode</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_CM_MONO8</span>
            <span class="n">nBitsPerPixel</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">INT</span><span class="p">(</span><span class="mi">8</span><span class="p">)</span>
            <span class="n">bytes_per_pixel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nBitsPerPixel</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;else&quot;</span><span class="p">)</span>

        <span class="c1"># Can be used to set the size and position of an &quot;area of interest&quot;(AOI) within an image</span>
        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_AOI</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_AOI_IMAGE_GET_AOI</span><span class="p">,</span>
                           <span class="n">rectAOI</span><span class="p">,</span> <span class="n">ueye</span><span class="o">.</span><span class="n">sizeof</span><span class="p">(</span><span class="n">rectAOI</span><span class="p">))</span>
        
        <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_AOI ERROR&quot;</span><span class="p">)</span>

        <span class="n">width</span> <span class="o">=</span> <span class="n">rectAOI</span><span class="o">.</span><span class="n">s32Width</span>
        <span class="n">height</span> <span class="o">=</span> <span class="n">rectAOI</span><span class="o">.</span><span class="n">s32Height</span>

        <span class="c1"># Prints out some information about the camera and the sensor</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Camera model:</span><span class="se">\t\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">sInfo</span><span class="o">.</span><span class="n">strSensorName</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Camera serial no.:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">cInfo</span><span class="o">.</span><span class="n">SerNo</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Maximum image width:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">width</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Maximum image height:</span><span class="se">\t</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">height</span><span class="p">)</span>
        <span class="nb">print</span><span class="p">()</span>

        <span class="c1"># ---------------------------------------------------------------------------------------------------------------------------------------</span>

        <span class="c1"># Allocates an image memory for an image having its dimensions defined by width and height and its color depth defined by nBitsPerPixel</span>
        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_AllocImageMem</span><span class="p">(</span>
            <span class="n">hCam</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">nBitsPerPixel</span><span class="p">,</span> <span class="n">pcImageMemory</span><span class="p">,</span> <span class="n">MemID</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_AllocImageMem ERROR&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Makes the specified image memory the active memory</span>
            <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_SetImageMem</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">pcImageMemory</span><span class="p">,</span> <span class="n">MemID</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_SetImageMem ERROR&quot;</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Set the desired color mode</span>
                <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_SetColorMode</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">m_nColorMode</span><span class="p">)</span>

        <span class="c1"># Activates the camera&#39;s live video mode (free run mode)</span>
        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_CaptureVideo</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_DONT_WAIT</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_CaptureVideo ERROR&quot;</span><span class="p">)</span>

        <span class="c1"># Enables the queue mode for existing image memory sequences</span>
        <span class="n">nRet</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">is_InquireImageMem</span><span class="p">(</span>
            <span class="n">hCam</span><span class="p">,</span> <span class="n">pcImageMemory</span><span class="p">,</span> <span class="n">MemID</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">nBitsPerPixel</span><span class="p">,</span> <span class="n">pitch</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">nRet</span> <span class="o">!=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;is_InquireImageMem ERROR&quot;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Press cancel to leave the programm&quot;</span><span class="p">)</span>

        <span class="c1"># ---------------------------------------------------------------------------------------------------------------------------------------</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
        <span class="c1"># Continuous image display</span>
        <span class="k">while</span> <span class="p">(</span><span class="n">nRet</span> <span class="o">==</span> <span class="n">ueye</span><span class="o">.</span><span class="n">IS_SUCCESS</span><span class="p">):</span>

            <span class="c1"># In order to display the image in an OpenCV window we need to...</span>
            <span class="c1"># ...extract the data of our image memory</span>
            <span class="n">array</span> <span class="o">=</span> <span class="n">ueye</span><span class="o">.</span><span class="n">get_data</span><span class="p">(</span><span class="n">pcImageMemory</span><span class="p">,</span> <span class="n">width</span><span class="p">,</span>
                                  <span class="n">height</span><span class="p">,</span> <span class="n">nBitsPerPixel</span><span class="p">,</span> <span class="n">pitch</span><span class="p">,</span> <span class="n">copy</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="n">bytes_per_pixel</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">nBitsPerPixel</span> <span class="o">/</span> <span class="mi">8</span><span class="p">)</span>

            <span class="c1"># ...reshape it in an numpy array...</span>
            <span class="n">frame</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span>
                <span class="n">array</span><span class="p">,</span> <span class="p">(</span><span class="n">height</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">width</span><span class="o">.</span><span class="n">value</span><span class="p">,</span> <span class="n">bytes_per_pixel</span><span class="p">))</span>

            <span class="c1"># ...resize t                        he image by a half</span>
            <span class="c1"># frame = cv2.resize(frame,(0,0),fx=0.5, fy=0.5)</span>

        <span class="c1"># ---------------------------------------------------------------------------------------------------------------------------------------</span>
            <span class="c1"># Include image data processing here</span>

            <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">frame</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">FlippedImage</span><span class="p">[:,</span> <span class="p">:,</span> <span class="p">:</span><span class="mi">3</span><span class="p">]</span>


            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">traitement</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>

                <span class="n">NBI</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
                <span class="n">_</span><span class="p">,</span> <span class="n">NBI</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span>
                    <span class="n">NBI</span><span class="p">,</span> <span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">th1</span><span class="o">*</span><span class="mi">255</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY</span><span class="p">)</span>
                <span class="n">NBI</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">NBI</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_GRAY2BGR</span><span class="p">)</span>
                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">NBI</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">traitement</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>

                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">traitement</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>

                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2HSV</span><span class="p">)</span>
                <span class="n">hsv</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2HSV</span><span class="p">)</span>
                <span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">hsv</span><span class="p">)</span>
                <span class="c1"># otsu choisi un trehol a la moitier des valeurs de l&#39;histogramme</span>
                <span class="n">ret_h</span><span class="p">,</span> <span class="n">th_h</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span>
                    <span class="n">h</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY</span><span class="o">+</span><span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_OTSU</span><span class="p">)</span>
                <span class="n">ret_s</span><span class="p">,</span> <span class="n">th_s</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span>
                    <span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY</span><span class="o">+</span><span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_OTSU</span><span class="p">)</span>
                <span class="c1"># Fusion th_h et th_s</span>
                <span class="n">th</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_or</span><span class="p">(</span><span class="n">th_h</span><span class="p">,</span> <span class="n">th_s</span><span class="p">)</span>
                <span class="c1"># Ajouts de bord à l&#39;image</span>
                <span class="n">bordersize</span> <span class="o">=</span> <span class="mi">50</span>
                <span class="n">th</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">copyMakeBorder</span><span class="p">(</span><span class="n">th</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">bordersize</span><span class="p">,</span> <span class="n">bottom</span><span class="o">=</span><span class="n">bordersize</span><span class="p">,</span> <span class="n">left</span><span class="o">=</span><span class="n">bordersize</span><span class="p">,</span>
                                        <span class="n">right</span><span class="o">=</span><span class="n">bordersize</span><span class="p">,</span> <span class="n">borderType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">BORDER_CONSTANT</span><span class="p">,</span> <span class="n">value</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">])</span>
                <span class="c1"># Remplissage des contours</span>
                <span class="n">im_floodfill</span> <span class="o">=</span> <span class="n">th</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
                <span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="n">th</span><span class="o">.</span><span class="n">shape</span><span class="p">[:</span><span class="mi">2</span><span class="p">]</span>
                <span class="n">mask</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="n">h</span><span class="o">+</span><span class="mi">2</span><span class="p">,</span> <span class="n">w</span><span class="o">+</span><span class="mi">2</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
                <span class="n">cv2</span><span class="o">.</span><span class="n">floodFill</span><span class="p">(</span><span class="n">im_floodfill</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">255</span><span class="p">)</span>
                <span class="n">im_floodfill_inv</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_not</span><span class="p">(</span><span class="n">im_floodfill</span><span class="p">)</span>
                <span class="n">th</span> <span class="o">=</span> <span class="n">th</span> <span class="o">|</span> <span class="n">im_floodfill_inv</span>
                <span class="c1"># Enlèvement des bord de l&#39;image</span>
                <span class="n">th</span> <span class="o">=</span> <span class="n">th</span><span class="p">[</span><span class="n">bordersize</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">th</span><span class="p">)</span><span class="o">-</span><span class="n">bordersize</span><span class="p">,</span>
                        <span class="n">bordersize</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">th</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">-</span><span class="n">bordersize</span><span class="p">]</span>
                <span class="n">resultat</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">bitwise_and</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">FlippedImage</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">th</span><span class="p">)</span>
                <span class="c1"># cv2.imwrite(&quot;im_floodfill.png&quot;,im_floodfill)</span>
                <span class="c1"># cv2.imwrite(&quot;th.png&quot;,th)</span>
                <span class="c1"># cv2.imwrite(&quot;resultat.png&quot;,resultat)</span>
                <span class="c1"># FlippedImage=cv2.merge((th_h,th_s,th_v))</span>
                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">resultat</span>
                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_HSV2BGR</span><span class="p">)</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">traitement</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>

                <span class="c1"># FlippedImage = cv2.cvtColor(FlippedImage, cv2.COLOR_BGR2GRAY)</span>
                <span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
                <span class="c1"># thresh=cv2.Canny(FlippedImage, self.th1,self.th1*2)</span>
                <span class="n">thresh</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">Laplacian</span><span class="p">(</span><span class="n">gray</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">CV_8U</span><span class="p">,</span> <span class="n">ksize</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">thresh</span>

            <span class="k">if</span> <span class="n">temp</span><span class="o">+</span><span class="bp">self</span><span class="o">.</span><span class="n">timact</span> <span class="o">&lt;</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">():</span>

                <span class="n">updImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
                <span class="c1"># Image = cv2.cvtColor(frame, cv2.COLOR_BGR2RGB)</span>
                <span class="c1"># FlippedImage = cv2.flip(Image, 1)</span>
                <span class="c1"># npim=np.array(FlippedImage).astype(np.uint8)</span>
                <span class="c1"># imia=np.concatenate([npim,tz])</span>
                <span class="c1"># np.save(&quot;/Users/alexis/Desktop/imiai&quot;, imia)</span>
                <span class="c1"># print(&quot;okokokokokokokokok&quot;)</span>
                <span class="c1"># self.prediction=b.classification(Frame=imia)</span>
                <span class="c1"># print(type(FlippedImage))</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">frameUpdate</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">updImage</span><span class="p">)</span>
                <span class="n">temp</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">timact</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">traitement</span> <span class="o">==</span> <span class="mi">6</span><span class="p">:</span>

                <span class="n">hsv</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2HSV</span><span class="p">)</span>
                <span class="n">h</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">v</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">hsv</span><span class="p">)</span>
                <span class="n">ret_h</span><span class="p">,</span> <span class="n">th_h</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span>
                    <span class="n">h</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY_INV</span><span class="o">+</span><span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_OTSU</span><span class="p">)</span>
                <span class="n">ret_s</span><span class="p">,</span> <span class="n">th_s</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span>
                    <span class="n">s</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY_INV</span><span class="o">+</span><span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_OTSU</span><span class="p">)</span>
                <span class="n">hsv</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">merge</span><span class="p">((</span><span class="n">th_h</span><span class="p">,</span> <span class="n">th_s</span><span class="p">,</span> <span class="n">v</span><span class="p">))</span>
                <span class="n">brgImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">hsv</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_HSV2BGR</span><span class="p">)</span>
                <span class="n">gray</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">brgImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2GRAY</span><span class="p">)</span>
                <span class="c1">#  apply thresholding on the gray image to create a binary image</span>
                <span class="n">_</span><span class="p">,</span> <span class="n">thresh</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">threshold</span><span class="p">(</span>
                    <span class="n">gray</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_BINARY_INV</span><span class="o">+</span><span class="n">cv2</span><span class="o">.</span><span class="n">THRESH_OTSU</span><span class="p">)</span>
                <span class="c1"># gray = cv2.GaussianBlur(gray, (5, 5), 0)</span>
                <span class="c1"># thresh=cv2.Canny(FlippedImage, self.th1,self.th1*2)</span>
                <span class="c1"># find the contours</span>
                <span class="n">contours</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">findContours</span><span class="p">(</span>
                    <span class="n">thresh</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">RETR_EXTERNAL</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">CHAIN_APPROX_SIMPLE</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">contours</span><span class="p">)):</span>

                    <span class="c1"># take the first contour</span>
                    <span class="n">cnt</span> <span class="o">=</span> <span class="n">contours</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
                    <span class="c1"># compute the bounding rectangle of the contour</span>
                    <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">boundingRect</span><span class="p">(</span><span class="n">cnt</span><span class="p">)</span>
                    <span class="c1"># draw contour</span>
                    <span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">drawContours</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="p">[</span>
                                           <span class="n">cnt</span><span class="p">],</span> <span class="n">contourIdx</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">255</span><span class="p">),</span> <span class="n">thickness</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">lineType</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">LINE_AA</span><span class="p">)</span>
                    <span class="c1"># thresh=cv2.cvtColor(thresh,cv2.COLOR_GRAY2BGR)</span>
                    <span class="c1"># img = cv2.drawContours(thresh,[cnt],0,(0,255,255),2)</span>
                    <span class="c1"># draw the bounding rectangle</span>
                    <span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">rectangle</span><span class="p">(</span>
                        <span class="n">img</span><span class="p">,</span> <span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">),</span> <span class="p">(</span><span class="n">x</span><span class="o">+</span><span class="n">w</span><span class="p">,</span> <span class="n">y</span><span class="o">+</span><span class="n">h</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">255</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">img</span>

            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">traitement</span> <span class="o">==</span> <span class="mi">5</span><span class="p">:</span>

                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">GaussianBlur</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="mi">0</span><span class="p">)</span>
                <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">Canny</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">th1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">th1</span><span class="o">*</span><span class="mi">2</span><span class="p">)</span>

        <span class="c1"># ---------------------------------------------------------------------------------------------------------------------------------------</span>

            <span class="c1"># ...and finally display it</span>


            <span class="n">FlippedImage</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">cvtColor</span><span class="p">(</span><span class="n">FlippedImage</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">COLOR_BGR2RGB</span><span class="p">)</span>
            <span class="n">ConvertToQtFormat</span> <span class="o">=</span> <span class="n">QImage</span><span class="p">(</span>
                <span class="n">FlippedImage</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="n">FlippedImage</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">FlippedImage</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">QImage</span><span class="o">.</span><span class="n">Format_RGB888</span><span class="p">)</span>  <span class="c1"># Format_Mono)#</span>
            <span class="c1"># 640, 480, Qt.KeepAspectRatio)</span>
            
            <span class="n">Pic</span> <span class="o">=</span> <span class="n">ConvertToQtFormat</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="mi">640</span><span class="p">,</span> <span class="mi">512</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">KeepAspectRatio</span><span class="p">)</span>
            
            <span class="c1"># cree le signal qui permet d&#39;actualiser les data</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">ImageUpdate</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="n">Pic</span><span class="p">)</span>
            
            <span class="c1"># Press q if you want to end the loop</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">ThreadActive</span> <span class="o">==</span> <span class="kc">False</span><span class="p">:</span>
                <span class="k">break</span>

        <span class="c1"># ---------------------------------------------------------------------------------------------------------------------------------------</span>

        <span class="c1"># Releases an image memory that was allocated using is_AllocImageMem() and removes it from the driver management</span>
        <span class="n">ueye</span><span class="o">.</span><span class="n">is_FreeImageMem</span><span class="p">(</span><span class="n">hCam</span><span class="p">,</span> <span class="n">pcImageMemory</span><span class="p">,</span> <span class="n">MemID</span><span class="p">)</span>

        <span class="c1"># Disables the hCam camera handle and releases the data structures and memory areas taken up by the uEye camera</span>
        <span class="n">ueye</span><span class="o">.</span><span class="n">is_ExitCamera</span><span class="p">(</span><span class="n">hCam</span><span class="p">)</span>

        <span class="c1"># Destroys the OpenCv windows</span>
        <span class="c1"># cv2.destroyAllWindows()</span>

        <span class="nb">print</span><span class="p">()</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;END&quot;</span><span class="p">)</span></div>

<div class="viewcode-block" id="Worker1.stop"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker1.stop">[docs]</a>    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stop the execution of the class.</span>

<span class="sd">        This method sets the &#39;ThreadActive&#39; flag to False and quits the execution of the class.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">ThreadActive</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span></div>

<div class="viewcode-block" id="Worker1.timacsses"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker1.timacsses">[docs]</a>    <span class="k">def</span> <span class="nf">timacsses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ti</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the value of &#39;timact&#39; attribute.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        ti (float): The value to set for &#39;timact&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">timact</span> <span class="o">=</span> <span class="n">ti</span></div>

<div class="viewcode-block" id="Worker1.trait"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker1.trait">[docs]</a>    <span class="k">def</span> <span class="nf">trait</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the value of &#39;traitement&#39; attribute.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        t (str): The value to set for &#39;traitement&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">traitement</span> <span class="o">=</span> <span class="n">t</span></div>

<div class="viewcode-block" id="Worker1.traitth1"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker1.traitth1">[docs]</a>    <span class="k">def</span> <span class="nf">traitth1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the value of &#39;th1&#39; attribute.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        t (int): The value to set for &#39;th1&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">th1</span> <span class="o">=</span> <span class="n">t</span></div>

<div class="viewcode-block" id="Worker1.traitth2"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker1.traitth2">[docs]</a>    <span class="k">def</span> <span class="nf">traitth2</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Set the value of &#39;th2&#39; attribute.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        t (int): The value to set for &#39;th2&#39;.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">th2</span> <span class="o">=</span> <span class="n">t</span></div></div>


<div class="viewcode-block" id="Worker2"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker2">[docs]</a><span class="k">class</span> <span class="nc">Worker2</span><span class="p">(</span><span class="n">QThread</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    A worker class for performing tasks in a separate thread.</span>

<span class="sd">    This class inherits from QThread and is designed to perform certain operations in the background.</span>
<span class="sd">    It utilizes the IAcouleurs class for image color representation and shape classification using a neural network.</span>
<span class="sd">    The goal of this class is to process images, perform classification, and send classification information to a nuclei card</span>
<span class="sd">    to activate motors.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">PrediUpdate</span> <span class="o">=</span> <span class="n">pyqtSignal</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

<div class="viewcode-block" id="Worker2.__init__"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker2.__init__">[docs]</a>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Initialize the Worker2 class.</span>

<span class="sd">        This method sets up the initial state and configurations for the Worker2 class.</span>
<span class="sd">        It allows the user to choose a port for communication with the card that is connected to the computer.</span>

<span class="sd">        The Worker2 class initializes various attributes such as image arrays, a color and shape classification tool</span>
<span class="sd">        represented by the &#39;IAcouleurs&#39; class, threshold values, and lists for storing predictions.</span>

<span class="sd">        After a delay of 10 seconds (time for the other thread to start, so it needs to be increased if your computer runs slow\...), it retrieves the available serial ports and prompts the user to select a COM port.</span>
<span class="sd">        Once the port is selected, a serial connection is established with the specified port at a baud rate of 115200.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">tz</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">([</span><span class="mi">304</span><span class="p">,</span> <span class="mi">1280</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">IAcouleurs</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">th1</span> <span class="o">=</span> <span class="mi">120</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tab</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">L</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clf</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
        
        <span class="n">ports</span> <span class="o">=</span> <span class="n">serial</span><span class="o">.</span><span class="n">tools</span><span class="o">.</span><span class="n">list_ports</span><span class="o">.</span><span class="n">comports</span><span class="p">()</span>
        
        <span class="k">for</span> <span class="n">port</span><span class="p">,</span> <span class="n">desc</span><span class="p">,</span> <span class="n">hwid</span> <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">ports</span><span class="p">):</span>
            
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">port</span><span class="p">,</span> <span class="n">desc</span><span class="p">))</span>
            <span class="n">selectPort</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&quot;Select a COM port : &quot;</span><span class="p">)</span>
            
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Port Selected : COM</span><span class="si">{</span><span class="n">selectPort</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span> <span class="o">=</span> <span class="n">Serial</span><span class="p">(</span><span class="s1">&#39;COM&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">selectPort</span><span class="p">),</span> <span class="mi">115200</span><span class="p">)</span></div>

<div class="viewcode-block" id="Worker2.pr"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker2.pr">[docs]</a>    <span class="k">def</span> <span class="nf">pr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">Imagecv</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Perform image processing and prediction.</span>

<span class="sd">        This method receives an image, performs image processing and prediction using the &#39;classification&#39; and &#39;classi2&#39;</span>
<span class="sd">        methods of the &#39;IAcouleurs&#39; class. It emits the prediction through the &#39;PrediUpdate&#39; signal.</span>

<span class="sd">        The &#39;IAcouleurs&#39; class represents an image color and a shape classification tool using a neural network.</span>

<span class="sd">        The goal of this function is to send the information of the classification to a nuclei card to activate motors.</span>
<span class="sd">        It determines the most likely prediction by comparing several frame predictions during the passage of an object</span>
<span class="sd">        in front of the camera.</span>

<span class="sd">        Parameters:</span>
<span class="sd">        Imagecv (cv2.Image): The input image for prediction.</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">npim</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">Imagecv</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
        <span class="n">imia</span> <span class="o">=</span> <span class="n">npim</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">prediction</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">classification</span><span class="p">(</span>
            <span class="n">Frame</span><span class="o">=</span><span class="n">imia</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">th1</span><span class="o">*</span><span class="mi">255</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">))</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">PrediUpdate</span><span class="o">.</span><span class="n">emit</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prediction</span><span class="p">)</span>

        <span class="n">maxcoul</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
        
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prediction</span><span class="p">[</span><span class="mi">2</span><span class="p">])):</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">prediction</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">maxcoul</span><span class="p">:</span>
                <span class="n">couleur_rgb_finale</span> <span class="o">=</span> <span class="n">k</span>

        <span class="n">pred</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">b</span><span class="o">.</span><span class="n">classi2</span><span class="p">(</span><span class="n">Frame</span><span class="o">=</span><span class="n">imia</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="nb">int</span><span class="p">((</span><span class="bp">self</span><span class="o">.</span><span class="n">th1</span><span class="o">*</span><span class="mi">255</span><span class="p">)</span><span class="o">/</span><span class="mi">100</span><span class="p">))</span>
        
        <span class="k">if</span> <span class="n">pred</span> <span class="o">!=</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">clf</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">couleur_rgb_finale</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pred</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>

        <span class="k">elif</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            
            <span class="n">prL</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
            
            <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">)):</span>
                <span class="n">prL</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">L</span><span class="p">[</span><span class="n">k</span><span class="p">]]</span> <span class="o">+=</span> <span class="mi">1</span>
                
            <span class="n">prL</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">prL</span><span class="p">)</span>
            <span class="n">pre</span> <span class="o">=</span> <span class="n">prL</span><span class="o">.</span><span class="n">argmax</span><span class="p">()</span>
            
            <span class="bp">self</span><span class="o">.</span><span class="n">tab</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">clf</span><span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">],</span> <span class="n">pre</span><span class="p">]</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;prediction :&quot;</span><span class="p">)</span>
            <span class="nb">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">L</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clf</span> <span class="o">=</span> <span class="p">[]</span></div>

<div class="viewcode-block" id="Worker2.stop"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker2.stop">[docs]</a>    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Stop the Worker2 class execution.</span>

<span class="sd">        This method closes the serial connection with the card and stops the execution of the Worker2 class.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>  <span class="c1"># Stop class execution</span></div>

    <span class="k">def</span> <span class="nf">traitth1</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">t</span><span class="p">):</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">th1</span> <span class="o">=</span> <span class="n">t</span>

<div class="viewcode-block" id="Worker2.detection"><a class="viewcode-back" href="../Industrial_Vision.html#Industrial_Vision.Worker2.detection">[docs]</a>    <span class="k">def</span> <span class="nf">detection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Process the detection results and send commands to activate motors based on the classification.</span>

<span class="sd">        This method checks the detection results stored in `tab1`, `tab2`, and `tab3` lists. </span>
<span class="sd">        If any of the lists contains non-zero values, it determines the corresponding action to take based on the values.</span>
<span class="sd">        If the values in `tab1` indicate a classification result, it sends a command to activate motor1.</span>
<span class="sd">        If the values in `tab2` indicate a classification result, it sends a command to activate motor2.</span>
<span class="sd">        If the values in `tab3` indicate a classification result, it sends a command to activate motor3.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># /!\-1?</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
                                      <span class="p">)</span>  <span class="c1"># commande moteur1</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Send 1&quot;</span><span class="p">)</span>
                    <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                    <span class="c1">#     pass</span>
                    <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                    <span class="c1"># print(str(data_rec))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span>
                    <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>
                    
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># /!\-1?</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
                                      <span class="p">)</span>  <span class="c1"># commande moteur1</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Send 1&quot;</span><span class="p">)</span>
                    <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                    <span class="c1">#     pass</span>
                    <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                    <span class="c1"># print(str(data_rec))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span>
                    <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>
                    
            <span class="k">else</span><span class="p">:</span>
                
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># -1?</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab1</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="c1"># commande moteur1</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">))</span>

                        <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                        <span class="c1">#     pass</span>
                        <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                        <span class="c1"># print(str(data_rec))</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span>
                        <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># /!\-1?</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
                                      <span class="p">)</span>  <span class="c1"># commande moteur1</span>

                    <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                    <span class="c1">#     pass</span>
                    <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                    <span class="c1"># print(str(data_rec))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span>
                    <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>
                    
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># /!\-1?</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
                                      <span class="p">)</span>  <span class="c1"># commande moteur1</span>

                    <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                    <span class="c1">#     pass</span>
                    <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                    <span class="c1"># print(str(data_rec))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span>
                    <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>
                    
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># -1?</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab2</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="c1"># commande moteur1</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
                        <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                        <span class="c1">#     pass</span>
                        <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                        <span class="c1"># print(str(data_rec))</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span>
                        <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>

        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">!=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
            
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># /!\-1?</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
                                      <span class="p">)</span>  <span class="c1"># commande moteur1</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;envoyé3&quot;</span><span class="p">)</span>
                    <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                    <span class="c1">#     pass</span>
                    <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                    <span class="c1"># print(str(data_rec))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span>
                    <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>
                    
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># /!\-1?</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">)</span>
                                      <span class="p">)</span>  <span class="c1"># commande moteur1</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;envoyé3&quot;</span><span class="p">)</span>
                    <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                    <span class="c1">#     pass</span>
                    <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                    <span class="c1"># print(str(data_rec))</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span>
                    <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>
                    
            <span class="k">else</span><span class="p">:</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># -1?</span>
                    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">tab3</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="bp">self</span><span class="o">.</span><span class="n">tab</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
                        <span class="c1"># commande moteur1</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">serNuc</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="nb">bytes</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="mi">1</span><span class="p">),</span> <span class="s1">&#39;ascii&#39;</span><span class="p">))</span>
                        <span class="c1"># while self.serNuc.inWaiting() == 0:</span>
                        <span class="c1">#     pass</span>
                        <span class="c1"># data_rec = self.serNuc.read(4)  # bytes</span>
                        <span class="c1"># print(str(data_rec))</span>
                        <span class="bp">self</span><span class="o">.</span><span class="n">cp1</span> <span class="o">+=</span> <span class="mi">1</span>  <span class="c1"># compteur de piece</span></div></div>
                        <span class="c1"># self.nbpiece1.setText(str(self.cp1))</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>

    <span class="n">app</span> <span class="o">=</span> <span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>

    <span class="n">win</span> <span class="o">=</span> <span class="n">Window</span><span class="p">()</span>
    <span class="n">win</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">exec</span><span class="p">()</span>
</pre></div>
        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          
          
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023, Alex6Crbt
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/scripts/furo.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    </body>
</html>